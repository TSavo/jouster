<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jest Test Runner - Jouster Documentation</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="../assets/css/search.css">
  <link rel="stylesheet" href="../assets/css/collapsible.css">
  <link rel="stylesheet" href="../assets/css/code-highlight.css">
  <link rel="stylesheet" href="../assets/css/interactive-demos.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- JavaScript files -->
  <script src="../assets/js/search-index.js" defer></script>
  <script src="../assets/js/search-core.js" defer></script>
  <script src="../assets/js/search-ui.js" defer></script>
  <script src="../assets/js/collapsible.js" defer></script>
  <script src="../assets/js/code-highlight.js" defer></script>
  <script src="../assets/js/interactive-demos.js" defer></script>
  <script src="../assets/js/main.js" defer></script>

  <style>
    /* Basic styles */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #24292e;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .wrapper {
      display: flex;
    }

    .sidebar {
      width: 260px;
      padding: 20px;
      border-right: 1px solid #e1e4e8;
    }

    .main-content {
      flex: 1;
      padding: 20px 40px;
    }

    h1, h2, h3, h4, h5, h6 {
      color: #0366d6;
      margin-top: 24px;
      margin-bottom: 16px;
    }

    a {
      color: #0366d6;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .logo {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    .logo img {
      width: 40px;
      height: 40px;
      margin-right: 10px;
    }

    .logo h1 {
      margin: 0;
      font-size: 24px;
    }

    .nav-list {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    .nav-list li {
      margin-bottom: 8px;
    }

    .nav-section {
      margin-bottom: 20px;
    }

    .nav-section-title {
      font-weight: 600;
      margin-bottom: 10px;
      color: #0366d6;
    }

    .nav-subsection {
      padding-left: 15px;
    }

    /* Dark mode styles */
    body.dark-mode {
      background-color: #0d1117;
      color: #c9d1d9;
    }

    body.dark-mode h1,
    body.dark-mode h2,
    body.dark-mode h3,
    body.dark-mode h4,
    body.dark-mode h5,
    body.dark-mode h6 {
      color: #58a6ff;
    }

    body.dark-mode a {
      color: #58a6ff;
    }

    body.dark-mode .sidebar {
      border-right-color: #30363d;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .wrapper {
        flex-direction: column;
      }

      .sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #e1e4e8;
      }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <aside class="sidebar">
      <div class="logo">
        <img src="../assets/images/logo.svg" alt="Jouster Logo">
        <h1>Jouster</h1>
      </div>

      <div class="search-container">
        <input type="text" id="search-input" class="search-input" placeholder="Search documentation...">
        <div id="search-results" class="search-results"></div>
      </div>

      <div class="dark-mode-container">
        <span class="dark-mode-label">Dark Mode</span>
        <label class="dark-mode-toggle">
          <input type="checkbox" id="dark-mode-toggle">
          <span class="dark-mode-slider"></span>
        </label>
      </div>

      <nav>
        <div class="nav-section">
          <div class="nav-section-title">Getting Started</div>
          <ul class="nav-list">
            <li><a href="../main.html">Introduction</a></li>
            <li><a href="../getting-started-enhanced.html">Installation</a> <span style="display: inline-block; background-color: #2ea44f; color: white; font-size: 12px; font-weight: bold; padding: 2px 6px; border-radius: 12px; margin-left: 8px; vertical-align: middle;">Enhanced</span></li>
            <li><a href="../setup-wizard.html">Setup Wizard</a> <span style="display: inline-block; background-color: #2ea44f; color: white; font-size: 12px; font-weight: bold; padding: 2px 6px; border-radius: 12px; margin-left: 8px; vertical-align: middle;">Enhanced</span></li>
            <li><a href="../usage-guide.html">Usage Guide</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Test Runners</div>
          <ul class="nav-list">
            <li><a href="../test-runners-enhanced.html">Overview</a> <span style="display: inline-block; background-color: #2ea44f; color: white; font-size: 12px; font-weight: bold; padding: 2px 6px; border-radius: 12px; margin-left: 8px; vertical-align: middle;">Enhanced</span></li>
            <li class="nav-subsection">
              <ul class="nav-list">
                <li><a href="./jest-enhanced.html">Jest</a> <span style="display: inline-block; background-color: #2ea44f; color: white; font-size: 12px; font-weight: bold; padding: 2px 6px; border-radius: 12px; margin-left: 8px; vertical-align: middle;">Enhanced</span></li>
                <li><a href="./mocha-enhanced.html">Mocha</a> <span style="display: inline-block; background-color: #2ea44f; color: white; font-size: 12px; font-weight: bold; padding: 2px 6px; border-radius: 12px; margin-left: 8px; vertical-align: middle;">Enhanced</span></li>
                <li><a href="./ava.html">AVA</a></li>
                <li><a href="./tape.html">Tape</a></li>
                <li><a href="./jasmine.html">Jasmine</a></li>
                <li><a href="./vitest.html">Vitest</a></li>
                <li><a href="./cypress.html">Cypress</a></li>
                <li><a href="./playwright.html">Playwright</a></li>
                <li><a href="./testcafe.html">TestCafe</a></li>
                <li><a href="./karma.html">Karma</a></li>
                <li><a href="./generic.html">Generic</a></li>
              </ul>
            </li>
          </ul>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Core Concepts</div>
          <ul class="nav-list">
            <li><a href="../core-concepts.html">How Jouster Works</a></li>
            <li><a href="../core-concepts.html#test-identification">Test Identification</a></li>
            <li><a href="../core-concepts.html#issue-lifecycle">Issue Lifecycle</a></li>
            <li><a href="../core-concepts.html#mapping-database">Mapping Database</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Advanced Features</div>
          <ul class="nav-list">
            <li><a href="../advanced-features.html">Overview</a></li>
            <li><a href="../templates.html">Templates</a></li>
            <li><a href="../advanced-features.html#hooks">Hooks</a></li>
            <li><a href="../advanced-features.html#plugins">Plugins</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Resources</div>
          <ul class="nav-list">
            <li><a href="../api-reference.html">API Reference</a></li>
            <li><a href="../troubleshooting.html">Troubleshooting</a></li>
            <li><a href="../contributing.html">Contributing</a></li>
            <li><a href="../examples/README.html">Examples</a></li>
          </ul>
        </div>
      </nav>
    </aside>

    <main class="main-content">
      <h1>Jest Test Runner</h1>

      <p><a href="https://jestjs.io/" target="_blank">Jest</a> is a delightful JavaScript Testing Framework with a focus on simplicity. Jouster provides seamless integration with Jest, allowing you to track test failures and manage issues automatically.</p>

      <h2 class="collapsible-header">Installation</h2>
      <div class="collapsible-content">
        <p>To use Jest with Jouster, you need to install Jest:</p>

        <pre><code class="language-bash">npm install --save-dev jest</code></pre>

        <p>Then, configure Jouster to use Jest as the test runner:</p>

        <pre><code class="language-javascript">// jouster.config.js
module.exports = {
  // ... other configuration
  testRunnerType: 'jest'
};</code></pre>
      </div>

      <h2 class="collapsible-header">Configuration</h2>
      <div class="collapsible-content">
        <p>Jouster provides several configuration options for Jest:</p>

        <pre><code class="language-javascript">// jouster.config.js
module.exports = {
  // ... other configuration
  testRunnerType: 'jest',
  testRunnerOptions: {
    jest: {
      configPath: './jest.config.js', // Path to Jest configuration file
      reporters: ['default'], // Jest reporters to use
      coverage: false, // Whether to collect coverage information
      verbose: false, // Whether to use verbose output
      bail: false, // Whether to bail after the first test failure
      runInBand: false, // Whether to run tests in a single process
      updateSnapshot: false, // Whether to update snapshots
      testNamePattern: '', // Pattern to match test names
      testPathPattern: '', // Pattern to match test paths
      testTimeout: 5000, // Timeout for tests in milliseconds
      maxWorkers: '50%', // Maximum number of workers
      watchAll: false, // Whether to watch all files
      watch: false, // Whether to watch files for changes
      silent: false, // Whether to suppress console output
      noStackTrace: false, // Whether to hide stack traces
      ci: false // Whether running in CI environment
    }
  }
};</code></pre>
      </div>

      <h2 class="collapsible-header">Usage Examples</h2>
      <div class="collapsible-content">
        <h3>Basic Usage</h3>
        <pre><code class="language-bash">npx jouster run-tests --test-runner jest src/__tests__</code></pre>

        <h3>With Coverage</h3>
        <pre><code class="language-bash">npx jouster run-tests --test-runner jest --jest-coverage src/__tests__</code></pre>

        <h3>With Specific Configuration</h3>
        <pre><code class="language-bash">npx jouster run-tests --test-runner jest --jest-config-path ./custom-jest.config.js src/__tests__</code></pre>

        <h3>With Test Name Pattern</h3>
        <pre><code class="language-bash">npx jouster run-tests --test-runner jest --jest-test-name-pattern "should handle errors" src/__tests__</code></pre>
      </div>

      <h2 class="collapsible-header">Interactive Demo: Jest Configuration</h2>
      <div class="collapsible-content">
        <p>Try out this interactive demo to see how to configure Jest with Jouster:</p>

        <div class="demo-container">
          <pre class="demo-code"><code class="language-javascript">// Example of configuring Jest with Jouster
function createJestConfig(options = {}) {
  return {
    testRunnerType: 'jest',
    testRunnerOptions: {
      jest: {
        configPath: options.configPath || './jest.config.js',
        reporters: options.reporters || ['default'],
        coverage: options.coverage || false,
        verbose: options.verbose || false,
        bail: options.bail || false,
        runInBand: options.runInBand || false,
        updateSnapshot: options.updateSnapshot || false,
        testNamePattern: options.testNamePattern || '',
        testPathPattern: options.testPathPattern || '',
        testTimeout: options.testTimeout || 5000,
        maxWorkers: options.maxWorkers || '50%',
        watchAll: options.watchAll || false,
        watch: options.watch || false,
        silent: options.silent || false,
        noStackTrace: options.noStackTrace || false,
        ci: options.ci || false
      }
    }
  };
}

// Create different Jest configurations
const defaultConfig = createJestConfig();

const ciConfig = createJestConfig({
  coverage: true,
  verbose: true,
  bail: true,
  runInBand: true,
  ci: true,
  maxWorkers: 2
});

const developmentConfig = createJestConfig({
  watch: true,
  verbose: true,
  updateSnapshot: true
});

return {
  default: defaultConfig,
  ci: ciConfig,
  development: developmentConfig
};</code></pre>
          <div class="demo-result">Click "Run" to see the result</div>
        </div>
      </div>

      <h2 class="collapsible-header">Interactive Demo: Processing Jest Results</h2>
      <div class="collapsible-content">
        <p>Try out this interactive demo to see how Jouster processes Jest test results:</p>

        <div class="demo-container">
          <pre class="demo-code"><code class="language-javascript">// Example of processing Jest test results
function processJestResults(results) {
  // Extract test results
  const testResults = results.testResults.flatMap(fileResult =>
    fileResult.testResults.map(testResult => ({
      name: testResult.fullName,
      status: testResult.status,
      duration: testResult.duration,
      failureMessages: testResult.failureMessages || []
    }))
  );

  // Count passed and failed tests
  const passedTests = testResults.filter(test => test.status === 'passed');
  const failedTests = testResults.filter(test => test.status === 'failed');

  // Create issues for failed tests
  const issues = failedTests.map(test => ({
    title: `Test failure: ${test.name}`,
    body: `
# Test Failure

## Test Name
\`${test.name}\`

## Failure Messages
\`\`\`
${test.failureMessages.join('\n\n')}
\`\`\`

## Duration
${test.duration}ms
    `,
    labels: ['test-failure', 'jest']
  }));

  return {
    summary: {
      total: testResults.length,
      passed: passedTests.length,
      failed: failedTests.length
    },
    failedTests,
    issues
  };
}

// Example Jest results
const jestResults = {
  numFailedTests: 2,
  numPassedTests: 3,
  numTotalTests: 5,
  testResults: [
    {
      testFilePath: '/path/to/test/file1.test.js',
      testResults: [
        {
          fullName: 'Calculator should add two numbers',
          status: 'passed',
          duration: 5,
          failureMessages: []
        },
        {
          fullName: 'Calculator should subtract two numbers',
          status: 'failed',
          duration: 3,
          failureMessages: ['Expected 0 to equal 1']
        }
      ]
    },
    {
      testFilePath: '/path/to/test/file2.test.js',
      testResults: [
        {
          fullName: 'StringUtils should capitalize a string',
          status: 'passed',
          duration: 2,
          failureMessages: []
        },
        {
          fullName: 'StringUtils should lowercase a string',
          status: 'passed',
          duration: 1,
          failureMessages: []
        },
        {
          fullName: 'StringUtils should handle empty strings',
          status: 'failed',
          duration: 4,
          failureMessages: ['TypeError: Cannot read property "length" of undefined']
        }
      ]
    }
  ]
};

return processJestResults(jestResults);</code></pre>
          <div class="demo-result">Click "Run" to see the result</div>
        </div>
      </div>

      <h2 class="collapsible-header">Best Practices</h2>
      <div class="collapsible-content">
        <h3>1. Use Jest's Built-in Features</h3>
        <p>Jest provides many built-in features that can help you write better tests:</p>
        <ul>
          <li><strong>Snapshot Testing</strong>: Use snapshot testing for UI components</li>
          <li><strong>Mock Functions</strong>: Use Jest's mock functions to test function calls</li>
          <li><strong>Timer Mocks</strong>: Use Jest's timer mocks to test time-dependent code</li>
          <li><strong>Manual Mocks</strong>: Use manual mocks to replace modules with mock implementations</li>
        </ul>

        <h3>2. Organize Tests Effectively</h3>
        <p>Organize your tests to make them easier to maintain:</p>
        <ul>
          <li><strong>Group Related Tests</strong>: Use describe blocks to group related tests</li>
          <li><strong>Use Descriptive Names</strong>: Use descriptive names for test files and test cases</li>
          <li><strong>Co-locate Tests</strong>: Keep tests close to the code they test</li>
        </ul>

        <h3>3. Optimize for Performance</h3>
        <p>Jest can be slow with large test suites. Optimize for performance:</p>
        <ul>
          <li><strong>Run Tests in Parallel</strong>: Use Jest's parallel test execution</li>
          <li><strong>Filter Tests</strong>: Run only the tests you need</li>
          <li><strong>Use Fast Transformers</strong>: Use faster transformers like esbuild-jest</li>
        </ul>

        <h3>4. Configure for CI</h3>
        <p>Configure Jest for continuous integration:</p>
        <ul>
          <li><strong>Run in CI Mode</strong>: Use the --ci flag in CI environments</li>
          <li><strong>Generate Coverage Reports</strong>: Use Jest's coverage reporting</li>
          <li><strong>Fail Fast</strong>: Use the --bail flag to stop after the first failure</li>
        </ul>
      </div>

      <h2 class="collapsible-header">Troubleshooting</h2>
      <div class="collapsible-content">
        <h3>Common Issues</h3>

        <h4>Tests Not Running</h4>
        <ul>
          <li>Check that Jest is installed</li>
          <li>Check that the test files match Jest's naming conventions</li>
          <li>Check that the test files are in the correct directory</li>
        </ul>

        <h4>Tests Running but Not Reporting</h4>
        <ul>
          <li>Check that the reporter is installed</li>
          <li>Check that the reporter is configured correctly</li>
          <li>Check that Jest's output is being captured</li>
        </ul>

        <h4>Tests Running but Not Failing</h4>
        <ul>
          <li>Check that assertions are being made</li>
          <li>Check that the assertions are correct</li>
          <li>Check that Jest is configured to fail on assertion failures</li>
        </ul>

        <h4>Tests Running but Not Creating Issues</h4>
        <ul>
          <li>Check that issue tracking is enabled</li>
          <li>Check that the GitHub client is configured correctly</li>
          <li>Check that Jest's test results are being parsed correctly</li>
        </ul>
      </div>

      <h2 class="collapsible-header">Further Reading</h2>
      <div class="collapsible-content">
        <ul>
          <li><a href="https://jestjs.io/docs/getting-started" target="_blank">Jest Documentation</a></li>
          <li><a href="https://jestjs.io/docs/configuration" target="_blank">Jest Configuration</a></li>
          <li><a href="https://jestjs.io/docs/cli" target="_blank">Jest CLI Options</a></li>
          <li><a href="https://jestjs.io/docs/snapshot-testing" target="_blank">Jest Snapshot Testing</a></li>
          <li><a href="https://jestjs.io/docs/mock-functions" target="_blank">Jest Mock Functions</a></li>
        </ul>
      </div>

      <footer>
        <p>Jouster Documentation - <a href="https://github.com/TSavo/jouster">GitHub Repository</a></p>
      </footer>
    </main>
  </div>
</body>
</html>
